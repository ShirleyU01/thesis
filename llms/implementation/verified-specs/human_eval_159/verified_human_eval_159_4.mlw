module HumanEval159
  use int.Int
  use list.List

  let eat (number:int) (need:int) (remaining:int) : list int =
    requires { 0 <= number <= 1000 }
    requires { 0 <= need <= 1000 }
    requires { 0 <= remaining <= 1000 }
    ensures {
      let total_eaten = if need <= remaining then number + need else number + remaining in
      let carrots_left = if need <= remaining then remaining - need else 0 in
      result = Cons total_eaten (Cons carrots_left Nil)
    }
    let enough = remaining >= need in
    let eaten = if enough then need else remaining in
    let total = number + eaten in
    let left = if enough then remaining - need else 0 in
    Cons total (Cons left Nil)
end
